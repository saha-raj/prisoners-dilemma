<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prisoner's Dilemma Simulation</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸŽ®</text></svg>">
</head>
<body>
    <header>
        <h1>Prisoner's Dilemma Simulation</h1>
    </header>
    
    <main>
        <section id="controls">
            <h2>Simulation Controls</h2>
            <div class="strategy-selection">
                <div class="strategy-group">
                    <label for="strategy1">Strategy 1:</label>
                    <div class="strategy-header">
                        <select id="strategy1">
                            <option value="cooperator">Cooperator</option>
                            <option value="defector">Defector</option>
                            <option value="random">Random</option>
                            <option value="tit-for-tat" selected>Tit for Tat</option>
                            <option value="grudger">Grudger</option>
                            <option value="detective">Detective</option>
                            <option value="pavlov">Pavlov</option>
                        </select>
                        <div class="color-indicator strategy1-color"></div>
                    </div>
                    <div class="strategy-description" id="strategy1-description">
                        Starts by cooperating, then copies opponent's previous move.
                    </div>
                </div>
                
                <div class="strategy-group">
                    <label for="strategy2">Strategy 2:</label>
                    <div class="strategy-header">
                        <select id="strategy2">
                            <option value="cooperator">Cooperator</option>
                            <option value="defector" selected>Defector</option>
                            <option value="random">Random</option>
                            <option value="tit-for-tat">Tit for Tat</option>
                            <option value="grudger">Grudger</option>
                            <option value="detective">Detective</option>
                            <option value="pavlov">Pavlov</option>
                        </select>
                        <div class="color-indicator strategy2-color"></div>
                    </div>
                    <div class="strategy-description" id="strategy2-description">
                        Always defects regardless of opponent's moves.
                    </div>
                </div>
            </div>
            
            <div class="proportion-control-container">
                <h3>Population Proportion</h3>
                <div class="proportion-slider-container">
                    <div class="proportion-label" id="proportion-label-left">50%</div>
                    <input type="range" id="proportion-slider" min="10" max="90" value="50" step="5" class="proportion-slider">
                    <div class="proportion-label" id="proportion-label-right">50%</div>
                </div>
            </div>
            
            <div class="tournament-params">
                <div class="param-group">
                    <label for="population-size">Population Size:</label>
                    <div class="slider-container">
                        <input type="range" id="population-size" min="100" max="1000" value="100" step="100">
                        <span class="slider-value" id="population-size-value">100</span>
                    </div>
                    <div class="param-description">Number of agents in the simulation</div>
                </div>
                
                <div class="param-group">
                    <label for="total-games">Total Games:</label>
                    <div class="slider-container">
                        <input type="range" id="total-games" min="100" max="10000" value="1000" step="100">
                        <span class="slider-value" id="total-games-value">1000</span>
                    </div>
                    <div class="param-description">Total number of games to play</div>
                </div>
                
                <div class="param-group">
                    <label for="games-per-pairing">Games Per Pairing:</label>
                    <div class="slider-container">
                        <input type="range" id="games-per-pairing" min="1" max="50" value="10" step="1">
                        <span class="slider-value" id="games-per-pairing-value">10</span>
                    </div>
                    <div class="param-description">Number of games each pair plays</div>
                </div>
                
                <div class="button-group">
                    <button id="start-tournament">Start Simulation</button>
                    <button id="stop-tournament" disabled>Stop Simulation</button>
                    <button id="reset-visualization">Reset Visualization</button>
                </div>
            </div>
        </section>
        
        <section id="visualization">
            <h2>
                Simulation Visualization
                <span id="running-indicator" class="hidden">
                    <div class="spinner"></div>
                    <span>Running...</span>
                </span>
            </h2>
            <div id="tournament-container"></div>
        </section>
    </main>
    
    <!-- Load D3.js -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    
    <!-- Load our JavaScript modules -->
    <script src="js/strategies.js"></script>
    <script src="js/game.js"></script>
    <script src="js/tournament.js"></script>
    <script src="js/visualization.js"></script>
    <script src="js/main.js"></script>
</body>
</html> 